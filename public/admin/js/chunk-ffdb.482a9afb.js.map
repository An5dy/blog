{"version":3,"sources":["webpack:///./src/views/about/About.vue?c4ec","webpack:///./src/views/about/About.vue?9596","webpack:///./src/api/about.js","webpack:///src/views/about/About.vue","webpack:///./src/views/about/About.vue?07bc","webpack:///./src/views/about/About.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_About_vue_vue_type_style_index_0_id_581ae8fc_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","label-position","label-width","model","about","label","staticStyle","width","size","value","callback","$$v","$set","expression","ref","height","code-style","toolbars","on","imgAdd","id","type","loading","click","onSubmit","_v","onUpdate","staticRenderFns","showAbout","Object","request","url","method","storeAbout","data","updateAbout","Aboutvue_type_script_lang_js_","name","components","mavonEditor","mavon_editor","title","markdown","bold","italic","header","underline","strikethrough","mark","superscript","subscript","quote","ol","ul","link","imagelink","code","table","fullscreen","readmodel","htmlcode","help","undo","redo","trash","save","navigation","alignleft","aligncenter","alignright","subfield","preview","methods","pos","$file","_this","formData","FormData","append","upload","then","response","$refs","md","$img2Url","basePath","_this2","$notify","message","duration","_this3","getAbout","_this4","mounted","about_Aboutvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"admin/js/chunk-ffdb.482a9afb.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=581ae8fc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=581ae8fc&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"label-position\":\"right\",\"label-width\":\"80px\",\"model\":_vm.about}},[_c('el-form-item',{attrs:{\"label\":\"标题\"}},[_c('el-input',{staticStyle:{\"width\":\"450px\"},attrs:{\"size\":\"small\"},model:{value:(_vm.about.title),callback:function ($$v) {_vm.$set(_vm.about, \"title\", $$v)},expression:\"about.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"正文\"}},[_c('mavon-editor',{ref:\"md\",staticStyle:{\"height\":\"600px\"},attrs:{\"code-style\":\"googlecode\",\"toolbars\":_vm.toolbars},on:{\"imgAdd\":_vm.imgAdd},model:{value:(_vm.about.markdown),callback:function ($$v) {_vm.$set(_vm.about, \"markdown\", $$v)},expression:\"about.markdown\"}})],1),_c('el-form-item',[(_vm.about.id === 0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确认发布\")]):_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.onUpdate}},[_vm._v(\"确认修改\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from \"@/utils/request\";\n\n/**\n * 获取关于\n */\nexport function showAbout() {\n    return request({\n        url: \"/abouts\",\n        method: \"get\"\n    });\n}\n\n/**\n * 保存\n *\n * @param {*} data\n */\nexport function storeAbout(data) {\n    return request({\n        url: \"/abouts\",\n        method: \"post\",\n        data\n    });\n}\n\n/**\n * 修改\n *\n * @param {*} id\n * @param {*} data\n */\nexport function updateAbout(id, data) {\n    data[\"_method\"] = \"PUT\";\n    return request({\n        url: \"/abouts/\" + id,\n        method: \"post\",\n        data\n    });\n}\n","<template>\n  <el-form \n    label-position=\"right\" \n    label-width=\"80px\" \n    :model=\"about\">\n    <el-form-item label=\"标题\">\n      <el-input \n        v-model=\"about.title\" \n        size=\"small\" \n        style=\"width: 450px\" />\n    </el-form-item>\n    <el-form-item label=\"正文\">\n      <mavon-editor \n        style=\"height: 600px;\" \n        ref='md' \n        code-style=\"googlecode\" \n        v-model=\"about.markdown\" \n        @imgAdd=\"imgAdd\"\n        :toolbars=\"toolbars\" />\n    </el-form-item>\n    <el-form-item>\n      <el-button \n        @click=\"onSubmit\" \n        size=\"small\" \n        type=\"primary\" \n        :loading=\"loading\" \n        v-if=\"about.id === 0\">确认发布</el-button>\n      <el-button \n        @click=\"onUpdate\" \n        size=\"small\" \n        type=\"primary\" \n        :loading=\"loading\" \n        v-else>确认修改</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport { mavonEditor } from \"mavon-editor\";\nimport \"mavon-editor/dist/css/index.css\";\nimport { showAbout, storeAbout, updateAbout } from \"@/api/about\";\nimport { imageUpload } from \"@/api/upload\";\nexport default {\n    name: \"About\",\n    components: {\n        mavonEditor\n    },\n    data() {\n        return {\n            loading: false,\n            about: {\n                id: 0,\n                title: \"\",\n                markdown: \"\"\n            },\n            toolbars: {\n                bold: true, // 粗体\n                italic: true, // 斜体\n                header: true, // 标题\n                underline: true, // 下划线\n                strikethrough: true, // 中划线\n                mark: true, // 标记\n                superscript: true, // 上角标\n                subscript: true, // 下角标\n                quote: true, // 引用\n                ol: true, // 有序列表\n                ul: true, // 无序列表\n                link: true, // 链接\n                imagelink: true, // 图片链接\n                code: true, // code\n                table: true, // 表格\n                fullscreen: true, // 全屏编辑\n                readmodel: true, // 沉浸式阅读\n                htmlcode: true, // 展示html源码\n                help: true, // 帮助\n                /* 1.3.5 */\n                undo: true, // 上一步\n                redo: true, // 下一步\n                trash: true, // 清空\n                save: true, // 保存（触发events中的save事件）\n                /* 1.4.2 */\n                navigation: true, // 导航目录\n                /* 2.1.8 */\n                alignleft: true, // 左对齐\n                aligncenter: true, // 居中\n                alignright: true, // 右对齐\n                /* 2.2.1 */\n                subfield: true, // 单双栏模式\n                preview: true // 预览\n            }\n        };\n    },\n    methods: {\n        /**\n         * 图片上传\n         */\n        imgAdd(pos, $file) {\n            let formData = new FormData();\n            formData.append(\"image\", $file);\n            imageUpload(formData).then(response => {\n                if (response.data.code === \"2000\") {\n                    this.$refs.md.$img2Url(pos, response.data.data.basePath);\n                }\n            });\n        },\n        onSubmit() {\n            storeAbout(this.about).then(() => {\n                this.$notify({\n                    title: \"成功\",\n                    message: \"添加成功\",\n                    type: \"success\",\n                    duration: 2000\n                });\n            });\n        },\n        onUpdate() {\n            updateAbout(this.about.id, this.about).then(() => {\n                this.$notify({\n                    title: \"成功\",\n                    message: \"修改成功\",\n                    type: \"success\",\n                    duration: 2000\n                });\n            });\n        },\n        /**\n         * 获取关于\n         */\n        getAbout() {\n            showAbout().then(response => {\n                if (response.data.data.id > 0) {\n                    this.about = response.data.data;\n                }\n            });\n        }\n    },\n    mounted() {\n        this.getAbout();\n    }\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import \"./About.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=581ae8fc&scoped=true&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\nimport style0 from \"./About.vue?vue&type=style&index=0&id=581ae8fc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"581ae8fc\",\n  null\n  \n)\n\ncomponent.options.__file = \"About.vue\"\nexport default component.exports"],"sourceRoot":""}