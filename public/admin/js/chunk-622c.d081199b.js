(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-622c"],{2423:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"e",function(){return o});var a=n("b775");function i(t){return Object(a["a"])({url:"/articles",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/articles/"+t,method:"get"})}function c(t){return Object(a["a"])({url:"/articles",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/articles/"+t,method:"post",data:{_method:"DELETE"}})}function o(t,e){return e.append("_method","PUT"),Object(a["a"])({url:"/articles/"+t,method:"post",data:e})}},"9a19":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"artcile-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.articles,stripe:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"100"}}),n("el-table-column",{attrs:{prop:"category.title",label:"分类",align:"center",width:"100"}}),n("el-table-column",{attrs:{label:"标签",prop:"tags",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.tags,function(a,i){return n("el-tag",{key:i,staticStyle:{"margin-right":"5px"},attrs:{closable:"",size:"mini",type:"primary"},on:{close:function(n){t.handleTagClose(i,e.row.tags)}}},[t._v(t._s(a.title))])})}}])}),n("el-table-column",{attrs:{prop:"title",align:"center",label:"标题",width:"200"}}),n("el-table-column",{attrs:{prop:"created_at",align:"center",width:"200",label:"发布时间"}}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-edit-outline"},on:{click:function(n){t.editArticle(e.row)}}}),n("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text",size:"medium",icon:"el-icon-delete"},on:{click:function(n){t.deleteArticle(e)}}})]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":t.page,"page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}})],1)],1)},i=[],r=n("2423"),c=n("b775");function l(t){return Object(c["a"])({url:"/tags/"+t,method:"post",data:{_method:"DELETE"}})}var o={name:"ArticleList",data:function(){return{loading:!0,articles:[],page:1,total:0,pageSize:0}},methods:{getArticles:function(){var t=this,e={page:this.page};Object(r["b"])(e).then(function(e){t.loading=!1,t.articles=e.data.data,t.page=e.data.meta.current_page,t.total=e.data.meta.total,t.pageSize=e.data.meta.per_page})},handleCurrentChange:function(t){this.page=t,this.getArticles()},deleteArticle:function(t){var e=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["a"])(t.row.id).then(function(t){e.getArticles(),e.$message.success(t.data.message)})}).catch(function(){})},editArticle:function(t){this.$router.push("/articles/"+t.id)},handleTagClose:function(t,e){var n=this;l(e[t].id).then(function(){e.splice(t,1),n.$notify({title:"成功",message:"标签删除成功",type:"success",duration:2e3})})}},mounted:function(){this.getArticles()}},u=o,s=(n("c8d6"),n("2877")),d=Object(s["a"])(u,a,i,!1,null,"175e4fb1",null);d.options.__file="ArticleList.vue";e["default"]=d.exports},c8d6:function(t,e,n){"use strict";var a=n("d5f4"),i=n.n(a);i.a},d5f4:function(t,e,n){}}]);
//# sourceMappingURL=chunk-622c.d081199b.js.map